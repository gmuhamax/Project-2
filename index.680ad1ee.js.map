{"mappings":"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","sources":["<anon>","src/js/main.js","src/js/tool.js"],"sourcesContent":["(function () {\nconst $5dee5932ce2dcbef$var$cont = document.querySelector(\".container\");\nconst $5dee5932ce2dcbef$var$pages = document.querySelector(\".footer__numbers\");\nconst $5dee5932ce2dcbef$var$apiKey = \"Wrom1SFhmivsqr0qBMcV6NJoa0MTYBhn\";\nconst $5dee5932ce2dcbef$export$35dc45686fc2dbd7 = (el, default_)=>el ? el : default_;\nconst $5dee5932ce2dcbef$export$4385e60b38654f68 = (min, max)=>Math.floor(Math.random() * (max - min + 1)) + min;\nasync function $5dee5932ce2dcbef$export$93a3b3c811e0fee2(page, search, country) {\n    try {\n        let links = `https://app.ticketmaster.com/discovery/v2/events?apikey=${$5dee5932ce2dcbef$var$apiKey}&keyword=${search}&page=${page}${country ? \"&countryCode=\" + country : \"\"}`;\n        let response = await fetch(links);\n        response = await response.json();\n        $5dee5932ce2dcbef$var$cont.innerHTML = \"\";\n        $5dee5932ce2dcbef$var$pages.innerHTML = $5dee5932ce2dcbef$export$7f3155e3cda021fd(Number(response.page.number) + 1, Number(response.page.totalPages) > 50 ? 50 : Number(response.page.totalPages) - 1);\n        let data_now = new Date();\n        let default_time = `${data_now.getFullYear()}-${data_now.getMonth()}-${data_now.getDay()}`;\n        response._embedded.events.forEach((el)=>{\n            $5dee5932ce2dcbef$var$cont.innerHTML += `\r\n                <div data-id=\"${el.id}\" class=\"main__card\" style=\"--from: ${$5dee5932ce2dcbef$export$4385e60b38654f68(-500, 500)}px; --time: ${$5dee5932ce2dcbef$export$4385e60b38654f68(500, 2000)}ms;\">\r\n                    <img src=\"${el.images[0].url}\" class=\"main__card-preview\">\r\n                    <h2 class=\"main__card-title\">${el.name}</h2>\r\n                    <span class=\"main__card-data\">${$5dee5932ce2dcbef$export$35dc45686fc2dbd7(el.dates.start.localDate, default_time)}</span>\r\n                    <span class=\"main__card-place\">${$5dee5932ce2dcbef$export$35dc45686fc2dbd7(el._embedded.venues[0].name, \"online\")}</span>\r\n                </div>\r\n                `;\n        });\n    } catch (error) {\n        $5dee5932ce2dcbef$var$cont.innerHTML = \"<h2 class='header__title'>NOT FOUND</h2>\";\n    }\n}\nfunction $5dee5932ce2dcbef$export$7f3155e3cda021fd(page, totalPages) {\n    let liTag = \"\";\n    let beforePage = page - 1;\n    let afterPage = page + 1;\n    if (page > 2) {\n        liTag += `<li class=\"footer__numbers-number\">1</li>`;\n        if (page > 3) liTag += `<li class=\"footer__numbers-number\">...</li>`;\n    }\n    if (page == totalPages) beforePage = beforePage - 2;\n    else if (page == totalPages - 1) beforePage = beforePage - 1;\n    if (page == 1) afterPage = afterPage + 2;\n    else if (page == 2) afterPage = afterPage + 1;\n    for(let plength = beforePage; plength <= afterPage; plength++){\n        if (plength > totalPages) continue;\n        if (plength == 0) plength += 1;\n        liTag += `<li class=\"footer__numbers-number${page == plength ? \" active\" : \"\"}\">${plength}</li>`;\n    }\n    if (page < totalPages - 1) {\n        if (page < totalPages - 2) liTag += `<li class=\"footer__numbers-number\">...</li>`;\n        liTag += `<li class=\"footer__numbers-number\">${totalPages}</li>`;\n    }\n    return liTag;\n}\n\n\nconst $089c40fcbb903d20$var$apiKey = \"Wrom1SFhmivsqr0qBMcV6NJoa0MTYBhn\";\nconst $089c40fcbb903d20$var$cont = document.querySelector(\".container\");\nconst $089c40fcbb903d20$var$modal = document.querySelector(\".modal\");\nconst $089c40fcbb903d20$var$wrapper_modal = document.querySelector(\".wrapper__modal\");\nconst $089c40fcbb903d20$var$pages = document.querySelector(\".footer__numbers\");\nconst $089c40fcbb903d20$var$header_wrapper = document.querySelector(\".header__wrapper\");\nconst $089c40fcbb903d20$var$country = document.querySelector(\"span.header__input\");\nconst $089c40fcbb903d20$var$country_wrapper = document.querySelector(\".header__input-wrapper\");\nconst $089c40fcbb903d20$var$close_modal = ()=>{\n    $089c40fcbb903d20$var$wrapper_modal.style.display = \"none\";\n    $089c40fcbb903d20$var$modal.style.display = \"none\";\n    document.body.style.overflowY = \"scroll\";\n};\nlet $089c40fcbb903d20$var$request = \"\";\n(0, $5dee5932ce2dcbef$export$93a3b3c811e0fee2)(\"0\", $089c40fcbb903d20$var$request, \"\");\n$089c40fcbb903d20$var$cont.addEventListener(\"click\", async (e)=>{\n    if (e.target.className.includes(\"main__card\")) {\n        let link = \"\";\n        if (e.target.dataset.id) link = `https://app.ticketmaster.com/discovery/v2/events/${e.target.dataset.id}?apikey=${$089c40fcbb903d20$var$apiKey}`;\n        else link = `https://app.ticketmaster.com/discovery/v2/events/${e.target.parentElement.dataset.id}?apikey=${$089c40fcbb903d20$var$apiKey}`;\n        let response = await fetch(link);\n        response = await response.json();\n        response.priceRanges = response.priceRanges ? response.priceRanges : [\n            {\n                min: 0,\n                max: 0,\n                currency: \"$\"\n            }\n        ];\n        $089c40fcbb903d20$var$modal.innerHTML = `\r\n        <img class=\"modal__close\" src=\"/Project-2/close.6a3fa3b0.png\">\r\n        <img src=\"${response.images[0].url}\" alt=\"\" class=\"modal__icon\">\r\n        <div class=\"modal__content\">\r\n          <img src=\"${response.images[0].url}\" class=\"modal__preview\"></img>\r\n          <div class=\"modal__texts\">\r\n            <h2 class=\"modal__title\">INFO</h2>\r\n            <p class=\"modal__text\">${response.info}</p>\r\n            <h2 class=\"modal__title\">WHEN</h2>\r\n            <p class=\"modal__text\">${response.dates.start.localDate} <br> ${response.dates.start.localTime} (${response.dates.timezone})</p>\r\n            <h2 class=\"modal__title\">WHERE</h2>\r\n            <p class=\"modal__text\">${response._embedded.venues[0].name}</p>\r\n            <h2 class=\"modal__title\">PRICES</h2>\r\n            <p class=\"modal__text\">Standart ${response.priceRanges[0].min}-${response.priceRanges[0].max} ${response.priceRanges[0].currency}</p>\r\n            <a href=\"${response.url}\" class=\"modal__btn\">BUY TICKETS</a>\r\n          </div>\r\n        </div>\r\n        <a class=\"modal__author\" href=\"${response.url}\">MORE FROM THIS AUTHOR</a>\r\n        `;\n        document.querySelector(\".modal__close\").addEventListener(\"click\", $089c40fcbb903d20$var$close_modal);\n        $089c40fcbb903d20$var$wrapper_modal.style.display = \"flex\";\n        $089c40fcbb903d20$var$modal.style.display = \"block\";\n        document.body.style.overflowY = \"hidden\";\n    }\n});\n$089c40fcbb903d20$var$wrapper_modal.addEventListener(\"click\", (e)=>{\n    if (e.currentTarget == e.target) $089c40fcbb903d20$var$close_modal();\n});\n$089c40fcbb903d20$var$pages.addEventListener(\"click\", (e)=>{\n    if (e.target.className == \"footer__numbers-number\" && e.target.textContent != \"...\") (0, $5dee5932ce2dcbef$export$93a3b3c811e0fee2)(Number(e.target.textContent) - 1, $089c40fcbb903d20$var$request, $089c40fcbb903d20$var$country.dataset.value);\n});\n$089c40fcbb903d20$var$header_wrapper.search.addEventListener(\"input\", _.debounce((e)=>{\n    $089c40fcbb903d20$var$request = e.target.value;\n    (0, $5dee5932ce2dcbef$export$93a3b3c811e0fee2)(\"0\", e.target.value, $089c40fcbb903d20$var$country.dataset.value);\n}, 500));\n$089c40fcbb903d20$var$country.addEventListener(\"input\", (e)=>{\n    (0, $5dee5932ce2dcbef$export$93a3b3c811e0fee2)(\"0\", $089c40fcbb903d20$var$request, $089c40fcbb903d20$var$country.dataset.value);\n});\n$089c40fcbb903d20$var$country.addEventListener(\"click\", ()=>{\n    $089c40fcbb903d20$var$country.classList.toggle(\"active\");\n    $089c40fcbb903d20$var$country_wrapper.classList.toggle(\"active\");\n});\n$089c40fcbb903d20$var$country_wrapper.addEventListener(\"click\", (e)=>{\n    if (e.target.className == \"header__input-item\") {\n        $089c40fcbb903d20$var$country.innerHTML = e.target.innerHTML;\n        $089c40fcbb903d20$var$country.dataset.value = e.target.dataset.value;\n        $089c40fcbb903d20$var$country.classList.toggle(\"active\");\n        $089c40fcbb903d20$var$country_wrapper.classList.toggle(\"active\");\n        (0, $5dee5932ce2dcbef$export$93a3b3c811e0fee2)(\"0\", $089c40fcbb903d20$var$request, $089c40fcbb903d20$var$country.dataset.value);\n    }\n});\nconst $089c40fcbb903d20$var$loader = document.querySelector(\".loader\");\ndocument.body.style.overflow = \"hidden\";\n$089c40fcbb903d20$var$loader.addEventListener(\"click\", ()=>{\n    $089c40fcbb903d20$var$loader.classList.add(\"active\");\n    setTimeout(()=>{\n        $089c40fcbb903d20$var$loader.style.display = \"none\";\n        document.body.style.overflow = \"scroll\";\n        $089c40fcbb903d20$var$loader.remove();\n    }, 2900);\n});\n\n})();\n//# sourceMappingURL=index.680ad1ee.js.map\n","import { loadCard } from './tool.js';\r\n\r\nconst apiKey = 'Wrom1SFhmivsqr0qBMcV6NJoa0MTYBhn';\r\nconst cont = document.querySelector('.container');\r\nconst modal = document.querySelector('.modal');\r\nconst wrapper_modal = document.querySelector('.wrapper__modal');\r\nconst pages = document.querySelector('.footer__numbers');\r\nconst header_wrapper = document.querySelector('.header__wrapper');\r\nconst country = document.querySelector('span.header__input');\r\nconst country_wrapper = document.querySelector('.header__input-wrapper');\r\n\r\nconst close_modal = () => {\r\n  wrapper_modal.style.display = 'none';\r\n  modal.style.display = 'none';\r\n  document.body.style.overflowY = 'scroll';\r\n};\r\n\r\nlet request = '';\r\n\r\nloadCard('0', request, '');\r\n\r\ncont.addEventListener('click', async e => {\r\n  if (e.target.className.includes('main__card')) {\r\n    let link = '';\r\n    if (e.target.dataset.id) {\r\n      link = `https://app.ticketmaster.com/discovery/v2/events/${e.target.dataset.id}?apikey=${apiKey}`;\r\n    } else {\r\n      link = `https://app.ticketmaster.com/discovery/v2/events/${e.target.parentElement.dataset.id}?apikey=${apiKey}`;\r\n    }\r\n\r\n    let response = await fetch(link);\r\n    response = await response.json();\r\n\r\n    response.priceRanges = response.priceRanges ? response.priceRanges : [{ min: 0, max: 0, currency: '$' }];\r\n\r\n    modal.innerHTML = `\r\n        <img class=\"modal__close\" src=\"/Project-2/close.6a3fa3b0.png\">\r\n        <img src=\"${response.images[0].url}\" alt=\"\" class=\"modal__icon\">\r\n        <div class=\"modal__content\">\r\n          <img src=\"${response.images[0].url}\" class=\"modal__preview\"></img>\r\n          <div class=\"modal__texts\">\r\n            <h2 class=\"modal__title\">INFO</h2>\r\n            <p class=\"modal__text\">${response.info}</p>\r\n            <h2 class=\"modal__title\">WHEN</h2>\r\n            <p class=\"modal__text\">${response.dates.start.localDate} <br> ${response.dates.start.localTime} (${response.dates.timezone})</p>\r\n            <h2 class=\"modal__title\">WHERE</h2>\r\n            <p class=\"modal__text\">${response._embedded.venues[0].name}</p>\r\n            <h2 class=\"modal__title\">PRICES</h2>\r\n            <p class=\"modal__text\">Standart ${response.priceRanges[0].min}-${response.priceRanges[0].max} ${response.priceRanges[0].currency}</p>\r\n            <a href=\"${response.url}\" class=\"modal__btn\">BUY TICKETS</a>\r\n          </div>\r\n        </div>\r\n        <a class=\"modal__author\" href=\"${response.url}\">MORE FROM THIS AUTHOR</a>\r\n        `;\r\n\r\n    document.querySelector('.modal__close').addEventListener('click', close_modal);\r\n\r\n    wrapper_modal.style.display = 'flex';\r\n    modal.style.display = 'block';\r\n    document.body.style.overflowY = 'hidden';\r\n  }\r\n});\r\n\r\nwrapper_modal.addEventListener('click', e => {\r\n  if (e.currentTarget == e.target) {\r\n    close_modal();\r\n  }\r\n});\r\n\r\npages.addEventListener('click', e => {\r\n  if (e.target.className == 'footer__numbers-number' && e.target.textContent != '...') {\r\n    loadCard(Number(e.target.textContent) - 1, request, country.dataset.value);\r\n  }\r\n});\r\n\r\nheader_wrapper.search.addEventListener(\r\n  'input',\r\n  _.debounce(e => {\r\n    request = e.target.value;\r\n    loadCard('0', e.target.value, country.dataset.value);\r\n  }, 500)\r\n);\r\n\r\ncountry.addEventListener('input', e => {\r\n  loadCard('0', request, country.dataset.value);\r\n});\r\n\r\ncountry.addEventListener('click', () => {\r\n  country.classList.toggle('active');\r\n  country_wrapper.classList.toggle('active');\r\n});\r\n\r\ncountry_wrapper.addEventListener('click', e => {\r\n  if (e.target.className == 'header__input-item') {\r\n    country.innerHTML = e.target.innerHTML;\r\n    country.dataset.value = e.target.dataset.value;\r\n    country.classList.toggle('active');\r\n    country_wrapper.classList.toggle('active');\r\n    loadCard('0', request, country.dataset.value);\r\n  }\r\n});\r\n\r\nconst loader = document.querySelector('.loader');\r\ndocument.body.style.overflow = 'hidden';\r\nloader.addEventListener('click', () => {\r\n  loader.classList.add('active');\r\n  setTimeout(() => {\r\n    loader.style.display = 'none';\r\n    document.body.style.overflow = 'scroll';\r\n    loader.remove();\r\n  }, 2900);\r\n});\r\n","const cont = document.querySelector('.container');\r\nconst pages = document.querySelector('.footer__numbers');\r\n\r\nconst apiKey = 'Wrom1SFhmivsqr0qBMcV6NJoa0MTYBhn';\r\n\r\nexport const check = (el, default_) => (el ? el : default_);\r\nexport const random = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;\r\n\r\nexport async function loadCard(page, search, country) {\r\n  try {\r\n    let links = `https://app.ticketmaster.com/discovery/v2/events?apikey=${apiKey}&keyword=${search}&page=${page}${\r\n      country ? '&countryCode=' + country : ''\r\n    }`;\r\n    let response = await fetch(links);\r\n    response = await response.json();\r\n\r\n    cont.innerHTML = '';\r\n    pages.innerHTML = createPagination(\r\n      Number(response.page.number) + 1,\r\n      Number(response.page.totalPages) > 50 ? 50 : Number(response.page.totalPages) - 1\r\n    );\r\n\r\n    let data_now = new Date();\r\n    let default_time = `${data_now.getFullYear()}-${data_now.getMonth()}-${data_now.getDay()}`;\r\n\r\n    response._embedded.events.forEach(el => {\r\n      cont.innerHTML += `\r\n                <div data-id=\"${el.id}\" class=\"main__card\" style=\"--from: ${random(-500, 500)}px; --time: ${random(\r\n        500,\r\n        2000\r\n      )}ms;\">\r\n                    <img src=\"${el.images[0].url}\" class=\"main__card-preview\">\r\n                    <h2 class=\"main__card-title\">${el.name}</h2>\r\n                    <span class=\"main__card-data\">${check(el.dates.start.localDate, default_time)}</span>\r\n                    <span class=\"main__card-place\">${check(el._embedded.venues[0].name, 'online')}</span>\r\n                </div>\r\n                `;\r\n    });\r\n  } catch (error) {\r\n    cont.innerHTML = \"<h2 class='header__title'>NOT FOUND</h2>\";\r\n  }\r\n}\r\n\r\nexport function createPagination(page, totalPages) {\r\n  let liTag = '';\r\n  let beforePage = page - 1;\r\n  let afterPage = page + 1;\r\n\r\n  if (page > 2) {\r\n    liTag += `<li class=\"footer__numbers-number\">1</li>`;\r\n    if (page > 3) {\r\n      liTag += `<li class=\"footer__numbers-number\">...</li>`;\r\n    }\r\n  }\r\n\r\n  if (page == totalPages) {\r\n    beforePage = beforePage - 2;\r\n  } else if (page == totalPages - 1) {\r\n    beforePage = beforePage - 1;\r\n  }\r\n\r\n  if (page == 1) {\r\n    afterPage = afterPage + 2;\r\n  } else if (page == 2) {\r\n    afterPage = afterPage + 1;\r\n  }\r\n\r\n  for (let plength = beforePage; plength <= afterPage; plength++) {\r\n    if (plength > totalPages) {\r\n      continue;\r\n    }\r\n    if (plength == 0) {\r\n      plength += 1;\r\n    }\r\n    liTag += `<li class=\"footer__numbers-number${page == plength ? ' active' : ''}\">${plength}</li>`;\r\n  }\r\n\r\n  if (page < totalPages - 1) {\r\n    if (page < totalPages - 2) {\r\n      liTag += `<li class=\"footer__numbers-number\">...</li>`;\r\n    }\r\n    liTag += `<li class=\"footer__numbers-number\">${totalPages}</li>`;\r\n  }\r\n\r\n  return liTag;\r\n}\r\n"],"names":["$5dee5932ce2dcbef$var$cont","document","querySelector","$5dee5932ce2dcbef$var$pages","$5dee5932ce2dcbef$export$35dc45686fc2dbd7","el","default_","$5dee5932ce2dcbef$export$4385e60b38654f68","min","max","Math","floor","random","$5dee5932ce2dcbef$export$93a3b3c811e0fee2","page","search","country","links","response","fetch","json","innerHTML","$5dee5932ce2dcbef$export$7f3155e3cda021fd","totalPages","liTag","beforePage","afterPage","plength","Number","number","data_now","Date","default_time","getFullYear","getMonth","getDay","_embedded","events","forEach","id","images","url","name","dates","start","localDate","venues","error","$089c40fcbb903d20$var$apiKey","$089c40fcbb903d20$var$cont","$089c40fcbb903d20$var$modal","$089c40fcbb903d20$var$wrapper_modal","$089c40fcbb903d20$var$pages","$089c40fcbb903d20$var$header_wrapper","$089c40fcbb903d20$var$country","$089c40fcbb903d20$var$country_wrapper","$089c40fcbb903d20$var$close_modal","style","display","body","overflowY","$089c40fcbb903d20$var$request","addEventListener","e","target","className","includes","link","dataset","parentElement","priceRanges","currency","info","localTime","timezone","currentTarget","textContent","value","_","debounce","classList","toggle","$089c40fcbb903d20$var$loader","overflow","add","setTimeout","remove"],"version":3,"file":"index.680ad1ee.js.map"}